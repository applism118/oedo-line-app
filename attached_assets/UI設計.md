# 山手線ウォーキングプランナー UI設計

## デザインコンセプト

山手線ウォーキングプランナーのUIデザインは、以下の原則に基づいて設計されています：

1. **シンプルさと使いやすさ** - 直感的なインターフェースで初めてのユーザーでも迷わず操作できる
2. **視覚的明瞭性** - 情報の階層と関連性が視覚的に理解しやすい
3. **レスポンシブデザイン** - モバイルからデスクトップまで様々なデバイスで最適に表示
4. **データの視覚化** - 駅間距離や時間を色やタイムラインで視覚的に表現
5. **日本語UI** - 日本のユーザーを対象とした日本語インターフェース

## カラーパレット

主要なカラーパレットは以下の通りです：

- **プライマリーカラー**: 青色系 (#3B82F6) - ボタンやアクセント要素に使用
- **アクセントカラー**:
  - 赤色系 (#EF4444) - 到着駅や警告に使用
  - 緑色系 (#22C55E) - 距離の視覚化や成功メッセージに使用
  - オレンジ色系 (#F97316) - 休憩駅の表示に使用
- **ニュートラルカラー**:
  - 白 (#FFFFFF) - 背景
  - 薄いグレー (#F9FAFB) - カード背景、セクション区切り
  - グレー (#6B7280) - セカンダリーテキスト
  - 濃いグレー (#1F2937) - プライマリーテキスト

## タイポグラフィ

- **フォントファミリー**: システムフォント（san-serif）を使用
- **フォントサイズ**:
  - 見出し（大）: 24px (1.5rem)
  - 見出し（中）: 20px (1.25rem)
  - 見出し（小）: 16px (1rem)
  - 本文: 14px (0.875rem)
  - 小さいテキスト: 12px (0.75rem)
- **フォントウェイト**:
  - 太字（見出し）: 700
  - 中太（強調）: 600
  - 通常: 400

## コンポーネント設計

### 1. 駅選択セクション

**デザイン要素**:
- タブ切り替え: 地図選択モードとテキスト選択モードの切り替え
- 地図ビュー: 円形に配置された山手線の駅マップ
- ドロップダウン: テキストモードでの駅名選択
- カラーコード: 出発駅（青）、到着駅（赤）、中間駅（緑）、休憩駅（オレンジ）
- ヒートマップスタイル: 駅間距離を色の濃さで表現

**インタラクション**:
- マップ上の駅をクリックして出発駅/到着駅を選択
- 選択順序: 最初のクリックで出発駅、次のクリックで到着駅を設定
- 駅選択後は自動的に他の設定（方向、時間など）にフォーカスが移動

### 2. ルート設定セクション

**デザイン要素**:
- ラジオボタン: 進行方向の選択（時計回り/反時計回り）
- 時間入力: 出発時刻の設定
- ドロップダウン: 休憩時間の選択（15分/30分/60分）

**インタラクション**:
- 各設定変更時にリアルタイムでルート情報と結果が更新される
- 設定項目はグループ化され、関連性が視覚的に明確

### 3. ルート結果表示セクション

**デザイン要素**:
- タブ切り替え: 歩行速度別のルート表示（ゆっくり/普通/速い）
- 情報カード: 総距離、予想所要時間などの概要情報
- タイムライン: 駅到着時刻と休憩時間を表示
- カラーコード: 距離に応じたタイムライン接続線の色付け

**インタラクション**:
- タブ切り替えで異なる歩行速度のシミュレーション結果を表示
- ルート保存ボタンでプランを保存

### 4. 保存プラン管理モーダル

**デザイン要素**:
- ダイアログモーダル: オーバーレイで表示
- プランカード: 保存済みプランのリスト表示
- アコーディオン: クリックで詳細表示/非表示の切り替え
- アイコンボタン: 削除やプラン読み込みアクション

**インタラクション**:
- プランカードクリックで詳細を展開
- 詳細表示時にタイムラインを表示
- 削除ボタンで個別プランを削除
- 「全て削除」ボタンで全プランを削除
- プランを選択して読み込み

## 画面遷移とレイアウト

このアプリケーションは基本的にシングルページアプリケーション（SPA）で、主要な画面遷移はモーダルダイアログで行われます。

### メイン画面レイアウト

```
+---------------------------------------------------+
| 山手線ウォーキングプランナー (アプリタイトル)     |
+---------------------------------------------------+
| +-----------------------------------------------+ |
| | プランを作成 (カードセクション)               | |
| | +-------------------+ +-------------------+   | |
| | | 地図/テキスト選択タブ                   |   | |
| | +-------------------+ +-------------------+   | |
| |                                               | |
| | [地図表示 or 駅選択ドロップダウン]             | |
| |                                               | |
| | 進行方向: ○時計回り ○反時計回り              | |
| | 出発時刻: [時間入力]                          | |
| | 休憩時間: [選択ドロップダウン]                | |
| +-----------------------------------------------+ |
|                                                   |
| +-----------------------------------------------+ |
| | ルート結果 (条件選択後に表示)                 | |
| | +-------+  +-------+  +-------+              | |
| | |ゆっくり|  |普通   |  |速い   | (速度タブ)   | |
| | +-------+  +-------+  +-------+              | |
| |                                               | |
| | 総距離: XX.X km                               | |
| | 予想所要時間: X.X 時間                        | |
| |                                               | |
| | [タイムライン表示]                            | |
| |                                               | |
| | [プランを保存] ボタン                         | |
| +-----------------------------------------------+ |
+---------------------------------------------------+
```

### 保存プランモーダル

```
+---------------------------------------------------+
| +-----------------------------------------------+ |
| | 保存したプラン一覧 (モーダルダイアログ)      | |
| | [全て削除]                                    | |
| |                                               | |
| | +-------------------------------------------+ | |
| | | プラン1: 駅A→駅B (日時) 速さ:ゆっくり    | | |
| | | [▼] [🗑]                                 | | |
| | +-------------------------------------------+ | |
| |                                               | |
| | +-------------------------------------------+ | |
| | | プラン2: 駅C→駅D (日時) 速さ:普通        | | |
| | | [▼] [🗑]                                 | | |
| | | (展開時)                                   | | |
| | | 総距離: XX.X km                           | | |
| | | [タイムライン表示]                        | | |
| | +-------------------------------------------+ | |
| |                                               | |
| +-----------------------------------------------+ |
+---------------------------------------------------+
```

## レスポンシブデザイン

アプリケーションは以下のブレイクポイントに対応したレスポンシブデザインを採用しています：

- **モバイル** (< 640px):
  - 縦方向のレイアウト
  - コンパクトなマップ表示
  - タッチ操作に最適化された大きめのタッチターゲット

- **タブレット** (640px - 1024px):
  - 余白の増加
  - コンポーネント間のスペーシングの拡大
  - 一部コンテンツの横並び配置

- **デスクトップ** (> 1024px):
  - 最大幅の制限（max-width: 1280px）
  - 最適な情報密度と視認性
  - 広いスクリーンを活用したレイアウト

## アニメーションとトランジション

- タブ切り替え: スムーズなフェードイン/アウト効果
- ダイアログ: スケールアップのアニメーション
- 保存プラン展開: スムーズな高さアニメーション
- トースト通知: 右下からのスライドイン/スライドアウト

## アクセシビリティ

- 適切なコントラスト比: テキストと背景のコントラスト比はWCAGガイドラインに準拠
- キーボードナビゲーション: 全ての機能がキーボードで操作可能
- 適切なセマンティックHTML: 見出しレベルの適切な使用、aria属性の活用
- 十分なタッチターゲットサイズ: タップ可能な要素は最低44px×44pxの領域を確保

## フィードバックUI

- トースト通知: アクション完了時の簡潔なフィードバック
  - 保存成功: 「プランを保存しました」
  - 削除成功: 「プランを削除しました」
  - エラー: 「エラーが発生しました」
- 視覚的フィードバック: ボタンのホバー状態、アクティブ状態の表示
- 読み込み状態: 将来的なAPIリクエスト時のローディング表示